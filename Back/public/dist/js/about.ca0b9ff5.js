(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"039a":function(t,e,o){"use strict";var r=o("7174"),a=o.n(r);a.a},"03cc":function(t,e,o){},"0cbe":function(t,e,o){"use strict";var r=o("8cfb"),a=o.n(r);a.a},"0ea0":function(t,e,o){},1276:function(t,e,o){"use strict";var r=o("d784"),a=o("44e7"),n=o("825a"),i=o("1d80"),s=o("4840"),c=o("8aa5"),l=o("50c4"),u=o("14c3"),d=o("9263"),p=o("d039"),f=[].push,v=Math.min,m=4294967295,h=!p((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,o){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,o){var r=String(i(this)),n=void 0===o?m:o>>>0;if(0===n)return[];if(void 0===t)return[r];if(!a(t))return e.call(r,t,n);var s,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,h=new RegExp(t.source,p+"g");while(s=d.call(h,r)){if(c=h.lastIndex,c>v&&(u.push(r.slice(v,s.index)),s.length>1&&s.index<r.length&&f.apply(u,s.slice(1)),l=s[0].length,v=c,u.length>=n))break;h.lastIndex===s.index&&h.lastIndex++}return v===r.length?!l&&h.test("")||u.push(""):u.push(r.slice(v)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,o){return void 0===t&&0===o?[]:e.call(this,t,o)}:e,[function(e,o){var a=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a,o):r.call(String(a),e,o)},function(t,a){var i=o(r,t,this,a,r!==e);if(i.done)return i.value;var d=n(t),p=String(this),f=s(d,RegExp),b=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),_=new f(h?d:"^(?:"+d.source+")",g),y=void 0===a?m:a>>>0;if(0===y)return[];if(0===p.length)return null===u(_,p)?[p]:[];var x=0,P=0,C=[];while(P<p.length){_.lastIndex=h?P:0;var w,T=u(_,h?p:p.slice(P));if(null===T||(w=v(l(_.lastIndex+(h?0:P)),p.length))===x)P=c(p,P,b);else{if(C.push(p.slice(x,P)),C.length===y)return C;for(var E=1;E<=T.length-1;E++)if(C.push(T[E]),C.length===y)return C;P=x=w}}return C.push(p.slice(x)),C}]}),!h)},"13d5":function(t,e,o){"use strict";var r=o("23e7"),a=o("d58f").left,n=o("a640"),i=o("ae40"),s=n("reduce"),c=i("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,o){var r=o("c6b6"),a=o("9263");t.exports=function(t,e){var o=t.exec;if("function"===typeof o){var n=o.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"159b":function(t,e,o){var r=o("da84"),a=o("fdbc"),n=o("17c2"),i=o("9112");for(var s in a){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==n)try{i(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(t,e,o){"use strict";var r=o("b727").forEach,a=o("a640"),n=o("ae40"),i=a("forEach"),s=n("forEach");t.exports=i&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"191e":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("AgregarCliente")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-background"},[o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex text-center align-items-center text-dark"},[o("b-icon",{attrs:{icon:"person-fill"}}),t._v(" Agregar cliente")],1)]),o("b-card",[o("h4",[t._v("Seleccione la Entidad")]),o("b-form-select",{attrs:{options:t.entidad},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("h4",{staticClass:"mt-2"},[t._v("Ingrese el nombre")]),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.persona.nombre,expression:"persona.nombre",modifiers:{trim:!0}}],staticClass:"form-control my-3",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.persona.nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.aggPersona(e)},input:function(e){e.target.composing||t.$set(t.persona,"nombre",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("h5",{staticClass:"mt-2"},[t._v("Ingrese el documento de identificación (opcional)")]),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.persona.cedula,expression:"persona.cedula",modifiers:{trim:!0}}],staticClass:"form-control my-3",attrs:{type:"text",placeholder:"Cedula o Documento de identificación"},domProps:{value:t.persona.cedula},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.aggPersona(e)},input:function(e){e.target.composing||t.$set(t.persona,"cedula",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("button",{staticClass:"btn btn-primary",on:{click:t.aggPersona}},[t._v("Agregar")])],1),o("b-card",{staticClass:"mt-3"},[o("h4",[t._v("Clientes Personales")]),t.personas&&t.personas.length?o("div",t._l(t.personas,(function(e,r){return o("div",{key:e.nombre+r,staticClass:"mt-3"},[o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",[o("b",[t._v("Nombre:")]),t._v(" "+t._s(e.nombre)+" ")]),e.cedula?o("div",[o("b",[t._v("Cedula:")]),t._v(" "+t._s(e.cedula)+" ")]):t._e(),o("div",[o("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(o){return t.abrirModal(e)}}},[t._v("Editar")]),o("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(o){return t.deleteClient(e._id)}}},[t._v("x")])])])])])})),0):o("div",[o("h5",{staticClass:"m-4"},[t._v("Sin clientes registrados")])]),o("h4",[t._v("Clientes Empresariales")]),t.empresas&&t.empresas.length?o("div",t._l(t.empresas,(function(e,r){return o("div",{key:e.nombre+r,staticClass:"mt-3"},[o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",[o("b",[t._v("Nombre:")]),t._v(" "+t._s(e.nombre)+" ")]),e.cedula?o("div",[o("b",[t._v("Cedula:")]),t._v(" "+t._s(e.cedula)+" ")]):t._e(),o("div",[o("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(o){return t.abrirModal(e)}}},[t._v("Editar")]),o("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(o){return t.deleteClient(e._id)}}},[t._v("x")])])])])])})),0):o("div",[o("h5",{staticClass:"m-4"},[t._v("Sin empresas registradas")])])]),o("b-modal",{attrs:{title:"Ingresa los nuevos datos del cliente"},on:{ok:t.updateClient},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[o("b-input",{staticClass:"mb-2",attrs:{placeholder:"Nombre"},model:{value:t.nuevaPersona.nombre,callback:function(e){t.$set(t.nuevaPersona,"nombre","string"===typeof e?e.trim():e)},expression:"nuevaPersona.nombre"}}),o("b-input",{attrs:{placeholder:"Identificación"},model:{value:t.nuevaPersona.cedula,callback:function(e){t.$set(t.nuevaPersona,"cedula","string"===typeof e?e.trim():e)},expression:"nuevaPersona.cedula"}})],1)],1)])},i=[],s=o("bc3a"),c=o.n(s),l={name:"agregar-cliente",data:function(){return{personas:[],empresas:[],persona:{nombre:"",cedula:""},selected:null,openModal:!1,newName:"",nuevaPersona:{nombre:"",cedula:"",id:""},entidad:[{value:null,text:"Seleccione una entidad"},{value:"persona",text:"Persona"},{value:"empresa",text:"Empresa"}]}},methods:{abrirModal:function(t){this.nuevaPersona.id=t._id,this.nuevaPersona.nombre=t.nombre,this.nuevaPersona.cedula=t.cedula,this.openModal=!0},aggPersona:function(){var t=this;if(!this.persona.nombre.length||!this.selected.length)return t.$vToastify.info("Llena todos los datos para continuar");var e={nombre:t.persona.nombre};t.persona.cedula.length&&Object.assign(e,{cedula:t.persona.cedula}),"persona"==this.selected?c.a.post("http://localhost:4012/api/createperson",e).then((function(e){200==e.status?(t.$vToastify.success("Persona agregada satisfactoriamente"),t.findClients(),t.selected=null,t.persona={nombre:"",cedula:""}):t.$vToastify.error("Ha ocurrido un error")})).catch((function(e){t.$vToastify.error("Ha ocurrido un error: ",e)})):c.a.post("http://localhost:4012/api/createcompany",e).then((function(e){200==e.status?(t.$vToastify.success("Compañia agregada satisfactoriamente"),t.findClients(),t.selected=null,t.persona={nombre:"",cedula:""}):t.$vToastify.error("Ha ocurrido un error. Por favor verifica tus datos")})).catch((function(e){t.$vToastify.error("Ha ocurrido un error: ",e)}))},findClients:function(){var t=this;c.a.get("http://localhost:4012/api/findclients").then((function(e){200==e.status?(t.personas=e.data.persona,t.empresas=e.data.empresa):t.$vToastify.error("Ha ocurrido un error obteniendo los clientes")})).catch((function(e){t.$vToastify.error("Ha ocurrido un error: ",e)}))},deleteClient:function(t){var e=this;c.a.delete("http://localhost:4012/api/deleteclient/".concat(t)).then((function(t){200==t.status?(e.$vToastify.success("Clientes eliminado satisfactoriamente"),e.findClients()):e.$vToastify.error("Ha ocurrido un error eliminado cliente")})).catch((function(t){e.$vToastify.error("Ha ocurrido un error: ",t)}))},updateClient:function(){var t=this,e=this.nuevaPersona.id,o={nombre:t.nuevaPersona.nombre};t.nuevaPersona.cedula.length&&Object.assign(o,{cedula:t.nuevaPersona.cedula}),c.a.put("http://localhost:4012/api/updateclient/".concat(e),o).then((function(e){200==e.status?(t.$vToastify.success("Clientes actualizado satisfactoriamente"),t.findClients(),t.nuevaPersona={nombre:"",cedula:"",id:""}):t.$vToastify.error("Ha ocurrido un error actualizado cliente")})).catch((function(e){t.$vToastify.error("Ha ocurrido un error: ",e)}))}},mounted:function(){this.findClients()}},u=l,d=(o("c37e"),o("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"Agregar",components:{AgregarCliente:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},"1dde":function(t,e,o){var r=o("d039"),a=o("b622"),n=o("2d00"),i=a("species");t.exports=function(t){return n>=51||!r((function(){var e=[],o=e.constructor={};return o[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2020:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Inventario")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[t._m(0),t.productos.length?o("div",[o("b-card",{staticClass:"mt-3"},[o("h4",[t._v("Inventario")]),t._l(t.productosTimeFormated,(function(e,r){return o("div",{staticClass:"mt-3"},[o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",[o("b",[t._v(" Producto: ")]),t._v(" "+t._s(e.nombre)+" "),o("b",[t._v("Precio de Venta:")]),t._v(" "+t._s(e.precioVenta)+" Bs. "),o("b",[t._v("fecha: ")]),t._v(" "+t._s(e.createdAt)+" "),o("b",[t._v(" Marca: ")]),t._v(" "+t._s(e.marca)+" ")]),o("div",[o("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(o){return t.abrirModal(e._id,r)}}},[t._v("Edit")]),o("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(o){return t.deleteProduct(e._id)}}},[t._v("x")])])])])])}))],2),o("b-card",{staticClass:"mt-3 mb-3"},[o("h3",[t._v("Lista de Precios ")]),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Nombre del producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Precio Bs:")])])],1)],1),t._l(t.productos,(function(e,r){return o("div",{staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.precioVenta))])],1)],1)],1)}))],2),o("b-modal",{attrs:{id:"modal-prevent-closing",title:"Ingresa nuevos datos del producto","header-bg-variant":"Black"},on:{ok:t.handleOk},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[o("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[o("b-form-group",{attrs:{label:"Nombre:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].nombre},model:{value:t.newProducto.nombre,callback:function(e){t.$set(t.newProducto,"nombre",e)},expression:"newProducto.nombre"}})],1),o("b-form-group",{attrs:{label:"Marca:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].marca},model:{value:t.newProducto.marca,callback:function(e){t.$set(t.newProducto,"marca",e)},expression:"newProducto.marca"}})],1),o("b-form-group",{attrs:{label:"Precio de compra:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].precioCompra},model:{value:t.newProducto.precioCompra,callback:function(e){t.$set(t.newProducto,"precioCompra",e)},expression:"newProducto.precioCompra"}})],1),o("b-form-group",{attrs:{label:"Precio de venta:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].precioVenta},model:{value:t.newProducto.precioVenta,callback:function(e){t.$set(t.newProducto,"precioVenta",e)},expression:"newProducto.precioVenta"}})],1)],1)])],1):t._e(),o("h4",[t._v("Sin productos existentes")])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex mx-auto text-dark"},[t._v("Inventario")])])}],s=(o("99af"),o("4160"),o("ac1f"),o("1276"),o("159b"),o("bc3a")),c=o.n(s),l={name:"Inventario",data:function(){return{moreProducts:!1,countProducts:"",productos:[],producto:{nombre:"",marca:"",precioCompra:"",precioVenta:""},newProducto:{nombre:"",marca:"",precioCompra:"",precioVenta:""},idProduct:"",openModal:!1,indexProduct:0}},computed:{productosTimeFormated:function(t){if(this.productos){var e=this.productos;return e.forEach((function(t){var e=t.createdAt.split("T"),o=e[0].split("-");t.createdAt="".concat(o[0],"-").concat(o[1],"-").concat(o[2])})),e}}},methods:{abrirModal:function(t,e){this.indexProduct=e,this.idProduct=t,this.openModal=!0},handleSubmit:function(){var t=this;if(!this.newProducto.nombre||!this.newProducto.marca||!this.newProducto.precioCompra||!this.newProducto.precioVenta)return this.$vToastify.info("Llena todos los datos para continuar");this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})),this.updateProduct()},handleOk:function(t){t.preventDefault(),this.handleSubmit()},aggProduct:function(){var t=this,e=[],o="",r="http://localhost:4012/api/createproduct";if(!this.producto.nombre||!this.producto.marca||!this.producto.precioCompra||!this.producto.precioVenta||this.moreProducts&&0==this.countProducts)return t.$vToastify.info("Llena todos los datos para continuar");if(this.moreProducts&&this.countProducts){for(var a=0;a<this.countProducts;a++)e.push(this.producto);o=e,r="http://localhost:4012/api/createmanyproducts"}else o=this.producto;c.a.post(r,o).then((function(e){200==e.status?(t.$vToastify.success("Producto agregado satisfactoriamente"),t.findProducts(),t.producto={nombre:"",marca:"",precioCompra:"",precioVenta:""},t.countProducts=""):t.$vToastify.error("Ha ocurrido un error")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},findProducts:function(){var t=this;c.a.get("http://localhost:4012/api/findproducts").then((function(e){200==e.status?(t.productos=e.data,t.$vToastify.success("Productos obtenidos satisfactoriamente")):t.$vToastify.error("Ha ocurrido un error obteniendo los productos")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},deleteProduct:function(t){var e=this;c.a.delete("http://localhost:4012/api/deleteproduct/".concat(t)).then((function(t){200==t.status?(e.$vToastify.success("Producto eliminado satisfactoriamente"),e.findProducts()):e.$vToastify.error("Ha ocurrido un error eliminado producto")})).catch((function(t){console.log(t),e.$vToastify.error(t)}))},updateProduct:function(){var t=this,e=this.idProduct;if(!this.newProducto.nombre||!this.newProducto.marca||!this.newProducto.precioCompra||!this.newProducto.precioVenta)return t.$vToastify.info("Llena todos los datos para continuar");c.a.put("http://localhost:4012/api/updateproduct/".concat(e),t.newProducto).then((function(e){200==e.status?(t.$vToastify.success("Producto actualizado satisfactoriamente"),t.findProducts(),t.newProducto={nombre:"",marca:"",precioCompra:"",precioVenta:""},t.idProduct=""):t.$vToastify.error("Ha ocurrido un error actualizado producto")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))}},mounted:function(){this.findProducts()}},u=l,d=o("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"InventarioView",components:{Inventario:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},2532:function(t,e,o){"use strict";var r=o("23e7"),a=o("5a34"),n=o("1d80"),i=o("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(n(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},4160:function(t,e,o){"use strict";var r=o("23e7"),a=o("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"44e7":function(t,e,o){var r=o("861d"),a=o("c6b6"),n=o("b622"),i=n("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},"4de4":function(t,e,o){"use strict";var r=o("23e7"),a=o("b727").filter,n=o("1dde"),i=o("ae40"),s=n("filter"),c=i("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,o){var r=o("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},6547:function(t,e,o){var r=o("a691"),a=o("1d80"),n=function(t){return function(e,o){var n,i,s=String(a(e)),c=r(o),l=s.length;return c<0||c>=l?t?"":void 0:(n=s.charCodeAt(c),n<55296||n>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):n:t?s.slice(c,c+2):i-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"65f0":function(t,e,o){var r=o("861d"),a=o("e8b5"),n=o("b622"),i=n("species");t.exports=function(t,e){var o;return a(t)&&(o=t.constructor,"function"!=typeof o||o!==Array&&!a(o.prototype)?r(o)&&(o=o[i],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===e?0:e)}},"664d":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Cobranza")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-background"},[o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[t._m(0),o("b-card",[o("h4",{staticClass:"mx-auto"},[t._v("Realizar una Venta")]),o("p",[o("b",[t._v("Seleccione el cliente")])]),o("b-form-select",{staticClass:"mb-3",model:{value:t.selectedPerson,callback:function(e){t.selectedPerson=e},expression:"selectedPerson"}},[t.allClients.length?o("option",{domProps:{value:null}},[t._v("Selecciona un cliente")]):o("option",{domProps:{value:null}},[t._v("No existe ningún cliente")]),t._l(t.allClients,(function(e,r){return o("option",{key:e.nombre+r,domProps:{value:e}},[t._v(" "+t._s(e.nombre)+" "+t._s(e.cedula?" - C.I: "+e.cedula:"")+" ")])}))],2),o("p",[o("b",[t._v("Seleccione un producto")])]),o("b-form-select",{staticClass:"mb-3",model:{value:t.selectedProduct,callback:function(e){t.selectedProduct=e},expression:"selectedProduct"}},[t.productos.length?o("option",{domProps:{value:null}},[t._v("Selecciona un producto")]):o("option",{domProps:{value:null}},[t._v("No existe ningún producto")]),t._l(t.productos,(function(e,r){return o("option",{key:e.nombre+r,domProps:{value:e}},[t._v(" "+t._s(e.nombre)+" - "+t._s(e.marca)+" - precio: "+t._s(e.precioVenta)+" Bs. - cantidad disponible: "+t._s(e.cantidad)+" ")])}))],2),o("div",{staticClass:"d-flex align-items-center border"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"form-control my-3",attrs:{type:"number",placeholder:"Ingrese la Cantidad"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),o("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return t.aggProducto(t.selectedProduct,t.selectedPerson)}}},[o("b-icon",{attrs:{icon:"check"}}),t._v(" Agregar a caja")],1)],1)],1),t.productosEnCaja.length?o("div",[o("b-card",{staticClass:"mt-3"},[o("h4",[t._v("Lista de productos en caja")]),o("p",[o("b",[t._v("Productos en Caja")])]),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Nombre del producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Precio Bs:")])]),o("b-col",[o("b",[t._v("Unidades")])])],1)],1),t._l(t.productosEnCaja,(function(e,r){return o("div",{staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.precioVenta))]),o("b-col",[t._v(t._s(e.cantidad))])],1)],1)],1)})),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("p",[o("b",[t._v("Cantidad de productos: ")])]),t._v(t._s(t.cantidadProductos))]),o("b-col"),o("b-col",[o("p",[o("b",[t._v("Monto total a pagar: ")])]),t._v(t._s(t.precioProductos))])],1)],1),o("b-card",{staticClass:"mt-3"},[o("h4",{staticClass:"mx-auto"},[t._v("Metodo de pago")]),o("b-form-select",{attrs:{options:t.metodoDePago},model:{value:t.selectedMethod,callback:function(e){t.selectedMethod=e},expression:"selectedMethod"}})],1),o("b-button",{on:{click:function(e){return t.crearFactura()}}},[t._v("Crear Factura")])],2)],1):t._e(),t.productos.length?o("div",[o("b-card",{staticClass:"mt-3 mb-3"},[o("h3",[t._v("Lista de Precios ")]),o("p",[o("b",[t._v("Productos en stock")])]),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Nombre del producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Unidades")])]),o("b-col",[o("b",[t._v("Precio Bs:")])])],1)],1),t._l(t.productos,(function(e,r){return o("div",{staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.cantidad))]),o("b-col",[t._v(t._s(e.precioVenta))])],1)],1)],1)}))],2)],1):t._e()],1)])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex mx-auto text-dark"},[t._v("Cobranza")])])}],s=(o("99af"),o("4de4"),o("4160"),o("d81d"),o("159b"),o("bc3a")),c=o.n(s),l={name:"Inventario",data:function(){return{selectedPerson:null,selectedProduct:null,selectedMethod:null,productos:[],personas:[],empresas:[],count:1,productosEnCaja:[],metodoDePago:[{value:null,text:"Seleccione un metodo de pago"},{value:"Efectivo",text:"Efectivo"},{value:"Transferencia",text:"Transferencia"},{value:"Pago Movil",text:"Pago Movil"},{value:"Pendiente",text:"Pendiente"}]}},methods:{aggProducto:function(t,e){var o=this;if(!e)return this.$vToastify.info("Selecciona un cliente para continuar");if(t.cantidad<this.count)return this.$vToastify.info("Despacio, no tenemos tantos productos");var r=!1;this.productos.map((function(e){var a=e;return e._id===t._id&&(a.cantidad-o.count?a.cantidad=a.cantidad-o.count:r=!0),a})),r&&(this.productos=this.productos.filter((function(e){return e._id!=t._id}))),this.agregarACaja(t._id,this.count)},agregarACaja:function(t,e){var o=this;c.a.post("http://localhost:4012/api/aggacaja",{productoId:t,cantidad:e}).then((function(t){200==t.status?(o.productosEnCaja=t.data,o.$vToastify.success("Productos agregados a caja satisfactoriamente"),o.findProducts(),o.findCaja()):o.$vToastify.error("Ha ocurrido un error agregando a caja")})).catch((function(t){console.log(t),o.$vToastify.error(t)}))},crearFactura:function(t){var e=this,o=this.selectedMethod,r=!1;return this.selectedPerson?this.selectedMethod?("Pendiente"==!o&&(r=!0),void c.a.post("http://localhost:4012/api/createbill",{idPersona:this.selectedPerson._id,pagado:r,metodoPago:o,monto:e.precioProductos}).then((function(t){200==t.status?(e.productosEnCaja=t.data,e.$vToastify.success("Factura creada satisfactoriamente")):e.$vToastify.error("Ha ocurrido un error creando la factura")})).catch((function(t){console.log(t),e.$vToastify.error(t)}))):this.$vToastify.info("Despacio, selecciona un metodo de pago antes de continuar"):this.$vToastify.info("Despacio, selecciona un cliente antes de continuar")},findClients:function(){var t=this;c.a.get("http://localhost:4012/api/findclients").then((function(e){200==e.status?(t.personas=e.data.persona,t.empresas=e.data.empresa):t.$vToastify.error("Ha ocurrido un error obteniendo los clientes")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},findProducts:function(){var t=this;c.a.get("http://localhost:4012/api/findproducts").then((function(e){200==e.status?t.productos=e.data:t.$vToastify.error("Ha ocurrido un error obteniendo los productos")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},findCaja:function(){var t=this;c.a.get("http://localhost:4012/api/findCaja").then((function(e){200==e.status?t.productosEnCaja=e.data.productos:t.$vToastify.error("Ha ocurrido un error obteniendo los productos")})).catch((function(t){console.log(t)}))}},mounted:function(){this.findProducts(),this.findClients(),this.findCaja()},computed:{allClients:function(){if(this.personas.length||this.empresas.length){var t=this.personas.concat(this.empresas);return t}return[]},cantidadProductos:function(){if(this.productosEnCaja.length){var t=0;return this.productosEnCaja.forEach((function(e){t+=e.cantidad})),t}},precioProductos:function(){if(this.productosEnCaja.length){var t=0;return this.productosEnCaja.forEach((function(e){var o=parseInt(e.precioVenta);t+=o})),t}}}},u=l,d=(o("7e1e"),o("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"CobranzaView",components:{Cobranza:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},7174:function(t,e,o){},7803:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Register")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-background"},[o("div",{staticClass:"container",attrs:{id:"app"}},[o("div",{staticClass:"abs-center"},[o("b-card",{staticStyle:{"max-width":"20rem"},attrs:{title:"Registrarse"}},[o("b-card-body",[o("form",[o("b-form-input",{staticClass:"mb-2",attrs:{type:"text",placeholder:"Nombre..."},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),o("b-form-input",{attrs:{type:"password",placeholder:"Contraseña..."},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("b-button",{attrs:{variant:"outline-primary",disabled:!t.nombre||!t.password},on:{click:t.enviarDatos}},[t._v(" Registrarse ")])],1),o("b-row",[o("b-col",[o("router-link",{attrs:{to:"/login"}},[o("a",[t._v("Ir al inicio de sesión")])])],1)],1)],1)],1)],1)])])},i=[],s=o("bc3a"),c=o.n(s),l={name:"Register",data:function(){return{nombre:"",password:""}},methods:{enviarDatos:function(){var t=this;if(!this.nombre.length||!this.password.length)return t.$vToastify.info("Llena todos los datos para continuar");c.a.post("http://localhost:4012/api/createuser",{username:t.nombre,password:t.password}).then((function(e){console.log(e),200==e.status?(t.$vToastify.success("Registrado con exito, prueba iniciando sesión"),t.$router.push("/login")):t.$vToastify.error("valida tus datos")})).catch((function(e){t.$vToastify.error(e)}))}},created:function(){}},u=l,d=(o("f30e"),o("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"Registro",components:{Register:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},"7e1e":function(t,e,o){"use strict";var r=o("8203"),a=o.n(r);a.a},8203:function(t,e,o){},8418:function(t,e,o){"use strict";var r=o("c04e"),a=o("9bf2"),n=o("5c6c");t.exports=function(t,e,o){var i=r(e);i in t?a.f(t,i,n(0,o)):t[i]=o}},"8aa5":function(t,e,o){"use strict";var r=o("6547").charAt;t.exports=function(t,e,o){return e+(o?r(t,e).length:1)}},"8cfb":function(t,e,o){},9263:function(t,e,o){"use strict";var r=o("ad6d"),a=o("9f7f"),n=RegExp.prototype.exec,i=String.prototype.replace,s=n,c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(s=function(t){var e,o,a,s,d=this,p=l&&d.sticky,f=r.call(d),v=d.source,m=0,h=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),h=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),o=new RegExp("^(?:"+v+")",f)),u&&(o=new RegExp("^"+v+"$(?!\\s)",f)),c&&(e=d.lastIndex),a=n.call(p?o:d,h),p?a?(a.input=a.input.slice(m),a[0]=a[0].slice(m),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:c&&a&&(d.lastIndex=d.global?a.index+a[0].length:e),u&&a&&a.length>1&&i.call(a[0],o,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a}),t.exports=s},"96cf":function(t,e,o){var r=function(t){"use strict";var e,o=Object.prototype,r=o.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(F){c=function(t,e,o){return t[e]=o}}function l(t,e,o,r){var a=e&&e.prototype instanceof h?e:h,n=Object.create(a.prototype),i=new M(r||[]);return n._invoke=T(t,o,i),n}function u(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(F){return{type:"throw",arg:F}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",f="executing",v="completed",m={};function h(){}function b(){}function g(){}var _={};_[n]=function(){return this};var y=Object.getPrototypeOf,x=y&&y(y(S([])));x&&x!==o&&r.call(x,n)&&(_=x);var P=g.prototype=h.prototype=Object.create(_);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(a,n,i,s){var c=u(t[a],t,n);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,i,s)}),(function(t){o("throw",t,i,s)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,s)}))}s(c.arg)}var a;function n(t,r){function n(){return new e((function(e,a){o(t,r,e,a)}))}return a=a?a.then(n,n):n()}this._invoke=n}function T(t,e,o){var r=d;return function(a,n){if(r===f)throw new Error("Generator is already running");if(r===v){if("throw"===a)throw n;return L()}o.method=a,o.arg=n;while(1){var i=o.delegate;if(i){var s=E(i,o);if(s){if(s===m)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=f;var c=u(t,e,o);if("normal"===c.type){if(r=o.done?v:p,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=v,o.method="throw",o.arg=c.arg)}}}function E(t,o){var r=t.iterator[o.method];if(r===e){if(o.delegate=null,"throw"===o.method){if(t.iterator["return"]&&(o.method="return",o.arg=e,E(t,o),"throw"===o.method))return m;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=u(r,t.iterator,o.arg);if("throw"===a.type)return o.method="throw",o.arg=a.arg,o.delegate=null,m;var n=a.arg;return n?n.done?(o[t.resultName]=n.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,m):n:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function S(t){if(t){var o=t[n];if(o)return o.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function o(){while(++a<t.length)if(r.call(t,a))return o.value=t[a],o.done=!1,o;return o.value=e,o.done=!0,o};return i.next=i}}return{next:L}}function L(){return{value:e,done:!0}}return b.prototype=P.constructor=g,g.constructor=b,b.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,s,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},C(w.prototype),w.prototype[i]=function(){return this},t.AsyncIterator=w,t.async=function(e,o,r,a,n){void 0===n&&(n=Promise);var i=new w(l(e,o,r,a),n);return t.isGeneratorFunction(o)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(P),c(P,s,"Generator"),P[n]=function(){return this},P.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var o in t)e.push(o);return e.reverse(),function o(){while(e.length){var r=e.pop();if(r in t)return o.value=r,o.done=!1,o}return o.done=!0,o}},t.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function a(r,a){return s.type="throw",s.arg=t,o.next=r,a&&(o.method="next",o.arg=e),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),k(o),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var r=o.completion;if("throw"===r.type){var a=r.arg;k(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,r){return this.delegate={iterator:S(t),resultName:o,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},"98d3":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("HistorialDeVenta")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-background"},[o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[t._m(0),o("div",[o("div",[o("b-card",[o("h4",[o("b",[t._v("Operaciones pendientes")])]),t.allClients.billsFalse?o("b-card-group",t._l(t.allClients.billsFalse,(function(e,r){return o("div",{key:e+r},[o("b-card",{staticClass:"mb-2 ml-3 mr-3 mt-3",staticStyle:{"max-width":"25rem"},attrs:{tag:"article","img-top":"","bg-variant":"info","text-variant":"white",title:e.nombre}},[o("b-card-text",{staticClass:"text-white"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Precio Bs:")])]),o("b-col",[o("b",[t._v("Unidades")])])],1)],1),t._l(e.productos,(function(e,r){return o("div",{key:e+r,staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.precioVenta))]),o("b-col",[t._v(t._s(e.cantidad))])],1)],1)],1)})),o("b-container",{staticClass:"bv-example-row"},[o("b-row",{staticClass:"mt-5"},[o("b-col",[o("p",[o("b",[t._v("Metodo de pago: ")])]),t._v(t._s(e.metodoPago))]),o("b-col",[o("p",[o("b",[t._v("Fecha: ")])]),t._v(t._s(e.createdAt))]),o("b-col",[o("p",[o("b",[t._v("Cantidad de productos: ")])]),t._v(t._s(e.count))]),o("b-col",[o("p",[o("b",[t._v("Monto toal Bs: ")])]),t._v(t._s(e.monto))])],1)],1)],2),o("b-button",{attrs:{variant:"info",target:"_blank"},on:{click:function(o){return t.abrirModal(e._id,r,"billsFalse")}}},[t._v(" Modificar ")])],1)],1)})),0):t._e(),t.allClients.billsFalse&&t.allClients.billsFalse.length?o("b-card-footer",[o("b-table",{attrs:{responsive:"sm",striped:"",hover:"",items:t.allClients.gastosTablePending}})],1):o("h4",[t._v("Sin operaciones pendientes")])],1)],1),o("div",{staticClass:"mt-3"},[o("b-card",[o("h4",[o("b",[t._v("Operaciones realizadas")])]),t.allClients.billsTrue?o("b-card-group",t._l(t.allClients.billsTrue,(function(e,r){return o("div",{key:e+r},[o("b-card",{staticClass:"mb-2 ml-3 mr-3 mt-3",staticStyle:{"max-width":"25rem"},attrs:{tag:"article","img-top":"","bg-variant":"success","text-variant":"white",title:e.nombre}},[o("b-card-text",{staticClass:"text-white"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Precio Bs:")])]),o("b-col",[o("b",[t._v("Unidades")])])],1)],1),t._l(e.productos,(function(e,r){return o("div",{key:e+r,staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.precioVenta))]),o("b-col",[t._v(t._s(e.cantidad))])],1)],1)],1)})),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("p",[o("b",[t._v("Metodo de pago: ")])]),t._v(t._s(e.metodoPago))]),o("b-col",[o("p",[o("b",[t._v("Fecha: ")])]),t._v(t._s(e.createdAt))]),o("b-col",[o("p",[o("b",[t._v("Cantidad de productos: ")])]),t._v(t._s(e.count))]),o("b-col",[o("p",[o("b",[t._v("Monto total Bs: ")])]),t._v(t._s(e.monto))])],1)],1)],2),o("b-button",{attrs:{variant:"success",target:"_blank"},on:{click:function(o){return t.abrirModal(e._id,r,"billsTrue")}}},[t._v(" Modificar ")])],1)],1)})),0):t._e(),t.allClients.billsTrue?o("b-card-footer",[o("b-table",{attrs:{responsive:"sm",striped:"",hover:"",items:t.allClients.gastosTableApproved}})],1):o("h4",[t._v("Sin operaciones realizadas")])],1),t.facturasModal.length?o("div",[o("b-modal",{attrs:{id:"modal-prevent-closing",title:"Ingresa nuevos datos de la factura","header-bg-variant":"Black"},on:{ok:t.handleOk},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[o("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[o("b-form-group",{attrs:{label:"Monto:"}},[o("b-form-input",{attrs:{placeholder:t.facturasModal[t.indexFactura].monto},model:{value:t.newFactura.monto,callback:function(e){t.$set(t.newFactura,"monto",e)},expression:"newFactura.monto"}})],1),o("b-form-group",{attrs:{label:"Metodo de pago:"}},[o("b-form-input",{attrs:{placeholder:t.facturasModal[t.indexFactura].metodoPago},model:{value:t.newFactura.metodoPago,callback:function(e){t.$set(t.newFactura,"metodoPago",e)},expression:"newFactura.metodoPago"}})],1)],1)])],1):t._e()],1)])])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex mx-auto text-dark"},[t._v("Historial de venta")])])}];o("99af"),o("4de4"),o("4160"),o("13d5"),o("ac1f"),o("1276"),o("159b"),o("96cf"),o("d3b7");function s(t,e,o,r,a,n,i){try{var s=t[n](i),c=s.value}catch(l){return void o(l)}s.done?e(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var e=this,o=arguments;return new Promise((function(r,a){var n=t.apply(e,o);function i(t){s(n,r,a,i,c,"next",t)}function c(t){s(n,r,a,i,c,"throw",t)}i(void 0)}))}}var l=o("bc3a"),u=o.n(l),d={name:"HistorialDeVenta",data:function(){return{bills:[],clientsNatural:[],clientsEmpresarial:[],BillsComputedTrue:[],BillsComputedFalse:[],openModal:!1,indexFactura:0,facturasModal:[],idFactura:"",newFactura:{monto:"",metodoPago:""}}},computed:{allClients:function(t){if(this.clientsNatural.length||this.clientsEmpresarial.length){var e={pending:{total:0},approved:{total:0,methods:{efectivo:0,pagoMovil:0,transferencia:0}}},o=this.clientsNatural.concat(this.clientsEmpresarial),r=[],a=[],n=[];o.forEach((function(t){var o=t.nombre;t.facturas.forEach((function(t){var a=t.createdAt.split("T"),n=a[0].split("-");t.createdAt="".concat(n[0],"-").concat(n[1],"-").concat(n[2]);var i=parseInt(t.monto);t.pagado?("Efectivo"==t.metodoPago?e.approved.methods.efectivo+=i:"Transferencia"==t.metodoPago?e.approved.methods.transferencia+=i:"Pago Movil"==t.metodoPago&&(e.approved.methods.pagoMovil+=i),e.approved.total+=i):e.pending.total+=i;var s=Object.assign(t,{nombre:o});r.push(s)}))})),r.forEach((function(t){!0===t.pagado?a.push(t):n.push(t)}));var i={billsTrue:a,billsFalse:n,gastosTablePending:[{monto_pendiente:e.pending.total+" Bs.",_rowVariant:"info"}],gastosTableApproved:[{monto_aprobado:e.approved.total+" Bs.",facturas_aprobadas:a.length,aprobado_en_efectivo:e.approved.methods.efectivo+" Bs.",aprobado_en_transferencia:e.approved.methods.transferencia+" Bs.",aprobado_en_pago_movil:e.approved.methods.pagoMovil+" Bs.",_rowVariant:"success"}]};return i}return[]},Stack:function(t){if(!this.allClients.length)return[];this.allClients.reduce((function(t,e){var o=JSON.stringify(e);return t[o]=++t[o]||0,t}),{}),this.allClients.filter}},methods:{abrirModal:function(t,e,o){this.facturasModal="billsTrue"===o?this.allClients.billsTrue:this.allClients.billsFalse,this.indexFactura=e,this.idFactura=t,this.openModal=!0},handleSubmit:function(){var t=this;if(!this.newFactura.monto||!this.newFactura.metodoPago)return this.$vToastify.info("Llena todos los datos para continuar");this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})),this.updateFactura()},handleOk:function(t){t.preventDefault(),this.handleSubmit()},findClients:function(){var t=this;u.a.get("http://localhost:4012/api/findclients").then((function(e){200==e.status?(t.clientsNatural=e.data.persona,t.clientsEmpresarial=e.data.empresa):t.$vToastify.error("Ha ocurrido un error obteniendo los clientes")})).catch((function(e){t.$vToastify.error(e)}))},updateFactura:function(){var t=this,e=this.idFactura;u.a.put("http://localhost:4012/api/updatefactura/".concat(e),t.newFactura).then((function(e){200==e.status?(t.$vToastify.success("Factura actualizada satisfactoriamente"),t.findBills(),t.newProducto={monto:"",metodoPago:""},t.idFactura=""):t.$vToastify.error("Ha ocurrido un error actualizado factura")})).catch((function(e){t.$vToastify.error(e)}))}},mounted:function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.findClients();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},p=d,f=(o("0cbe"),o("2877")),v=Object(f["a"])(p,n,i,!1,null,null,null),m=v.exports,h={name:"HistorialDeVentaView",components:{HistorialDeVenta:m}},b=h,g=Object(f["a"])(b,r,a,!1,null,null,null);e["default"]=g.exports},"99af":function(t,e,o){"use strict";var r=o("23e7"),a=o("d039"),n=o("e8b5"),i=o("861d"),s=o("7b0b"),c=o("50c4"),l=o("8418"),u=o("65f0"),d=o("1dde"),p=o("b622"),f=o("2d00"),v=p("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",b=f>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=d("concat"),_=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:n(t)},y=!b||!g;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,o,r,a,n,i=s(this),d=u(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?i:arguments[e],_(n)){if(a=c(n.length),p+a>m)throw TypeError(h);for(o=0;o<a;o++,p++)o in n&&l(d,p,n[o])}else{if(p>=m)throw TypeError(h);l(d,p++,n)}return d.length=p,d}})},"9f7f":function(t,e,o){"use strict";var r=o("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,o){"use strict";var r=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&r((function(){o.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,o){var r=o("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},ac1f:function(t,e,o){"use strict";var r=o("23e7"),a=o("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,o){"use strict";var r=o("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,o){var r=o("83ab"),a=o("d039"),n=o("5135"),i=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(n(s,t))return s[t];e||(e={});var o=[][t],l=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:c,d=n(e,1)?e[1]:void 0;return s[t]=!!o&&!a((function(){if(l&&!r)return!0;var t={length:-1};l?i(t,1,{enumerable:!0,get:c}):t[1]=1,o.call(t,u,d)}))}},ae78:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[t._m(0),o("div",{staticClass:"container mt-3"},[o("b-card",[o("h3",[t._v("Ingresos")]),o("b-card-group",t._l(t.facturasTimeFormated,(function(e,r){return o("div",{key:e+r},[o("b-card",{staticClass:"mb-2 ml-3 mr-3 mt-3",staticStyle:{"max-width":"15rem"},attrs:{header:e.monto+" Bs.","sub-title":e.metodoPago,tag:"article","img-top":"","bg-variant":"warning","text-variant":"white"}},[o("b-card-text",[o("ul",t._l(e.productos,(function(e,r){return o("div",{key:e.nombre+r},[o("li",[t._v(t._s(e.nombre)+" - "+t._s(e.marca)+" - "+t._s(e.cantidad))])])})),0)]),o("b-card-footer",[t._v(" "+t._s(e.createdAt)+" ")])],1)],1)})),0),o("b-card-footer",[o("b-table",{attrs:{responsive:"sm",striped:"",hover:"",items:t.totalFacturas.ingresosTable}})],1)],1)],1),o("div",{staticClass:"container mt-3"},[o("b-card",[o("h3",[t._v("Facturas por cobrar")]),o("b-card-group",t._l(t.facturasTimeFormatedPendiente,(function(e,r){return o("div",{key:e+r},[o("b-card",{staticClass:"mb-2 ml-3 mr-3 mt-3",staticStyle:{"max-width":"15rem"},attrs:{header:e.monto+" Bs.","sub-title":e.metodoPago,tag:"article","img-top":"","bg-variant":"warning","text-variant":"white"}},[o("b-card-text",[o("ul",t._l(e.productos,(function(e,r){return o("div",{key:e.nombre+r},[o("li",[t._v(t._s(e.nombre)+" - "+t._s(e.marca)+" - "+t._s(e.cantidad))])])})),0)]),o("b-card-footer",[t._v(" "+t._s(e.createdAt)+" ")])],1)],1)})),0),o("b-card-footer",[o("b-table",{attrs:{responsive:"sm",striped:"",hover:"",items:t.facturasPorCobrar.ingresosTable}})],1)],1)],1)])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex mx-auto text-dark"},[t._v("Ingresos")])])}],n=(o("99af"),o("4de4"),o("4160"),o("ac1f"),o("2532"),o("1276"),o("159b"),o("bc3a")),i=o.n(n),s={name:"Ingresos",data:function(){return{facturas:[],metodoDePago:[{value:null,text:"Seleccione un metodo de pago"},{value:"Efectivo",text:"Efectivo"},{value:"Transferencia",text:"Transferencia"},{value:"Pago Movil",text:"Pago Movil"}]}},computed:{facturasTimeFormated:function(t){if(this.facturas){var e="Pendiente",o=this.facturas.filter((function(t){return!e.includes(t.metodoPago)}));return o.forEach((function(t){var e=t.createdAt.split("T"),o=e[0].split("-");t.createdAt="".concat(o[0],"-").concat(o[1],"-").concat(o[2])})),o}},facturasTimeFormatedPendiente:function(t){if(this.facturas){var e="Pendiente",o=this.facturas.filter((function(t){return e.includes(t.metodoPago)}));return o.forEach((function(t){var e=t.createdAt.split("T"),o=e[0].split("-");t.createdAt="".concat(o[0],"-").concat(o[1],"-").concat(o[2])})),o}},totalFacturas:function(t){if(this.facturas){var e=0,o=0,r=0,a=0;this.facturasTimeFormated.forEach((function(t){var n=parseInt(t.monto);"Efectivo"==t.metodoPago?o+=n:"Transferencia"==t.metodoPago?r+=n:"Pago Movil"==t.metodoPago&&(a+=n),e+=n}));var n={msj:"Ingresos totales: ".concat(e,"\n              Facturas realizadas: ").concat(this.facturasTimeFormated.length),ingresosTable:[{ingresos_totales:e+" Bs.",facturas_realizadas:this.facturasTimeFormated.length,ingresos_en_efectivo:o+" Bs.",ingresos_en_transferencia:r+" Bs.",ingresos_en_pago_movil:a+" Bs.",_rowVariant:"warning"}]};return n}},facturasPorCobrar:function(t){if(this.facturas){var e=0;this.facturasTimeFormatedPendiente.forEach((function(t){var o=parseInt(t.monto);"Efectivo"==t.metodoPago?efectivo+=o:"Transferencia"==t.metodoPago?transferencia+=o:"Pago Movil"==t.metodoPago&&(movil+=o),e+=o}));var o={msj:"Por cobrar: ".concat(e,"\n              Facturas pendientes: ").concat(this.facturasTimeFormated.length),ingresosTable:[{monto_total:e+" Bs.",facturas_pendientes:this.facturasTimeFormatedPendiente.length,_rowVariant:"warning"}]};return o}}},methods:{findBills:function(){var t=this;i.a.get("http://localhost:4012/api/findbills").then((function(e){200==e.status?t.facturas=e.data:t.$vToastify.error("Ha ocurrido un error obteniendo las facturas")})).catch((function(e){t.$vToastify.error(e)}))}},mounted:function(){this.findBills()}},c=s,l=o("2877"),u=Object(l["a"])(c,r,a,!1,null,null,null);e["default"]=u.exports},b727:function(t,e,o){var r=o("0366"),a=o("44ad"),n=o("7b0b"),i=o("50c4"),s=o("65f0"),c=[].push,l=function(t){var e=1==t,o=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d;return function(f,v,m,h){for(var b,g,_=n(f),y=a(_),x=r(v,m,3),P=i(y.length),C=0,w=h||s,T=e?w(f,P):o?w(f,0):void 0;P>C;C++)if((p||C in y)&&(b=y[C],g=x(b,C,_),t))if(e)T[C]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return C;case 2:c.call(T,b)}else if(u)return!1;return d?-1:l||u?u:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b88c:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Gastos")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mt-5",attrs:{id:"app"}},[t._m(0),o("b-card",[o("h4",{staticClass:"mx-auto"},[t._v("Agregar productos")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.nombre,expression:"producto.nombre"}],staticClass:"form-control my-3",attrs:{type:"text",placeholder:"Ingrese el nombre del producto"},domProps:{value:t.producto.nombre},on:{input:function(e){e.target.composing||t.$set(t.producto,"nombre",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.marca,expression:"producto.marca"}],staticClass:"form-control my-3",attrs:{type:"text",placeholder:"Marca del producto"},domProps:{value:t.producto.marca},on:{input:function(e){e.target.composing||t.$set(t.producto,"marca",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.producto.precioCompra,expression:"producto.precioCompra",modifiers:{number:!0}}],staticClass:"form-control my-3",attrs:{type:"number",placeholder:"Precio de compra por unidad",min:0},domProps:{value:t.producto.precioCompra},on:{input:function(e){e.target.composing||t.$set(t.producto,"precioCompra",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.producto.precioVenta,expression:"producto.precioVenta",modifiers:{number:!0}}],staticClass:"form-control my-3",attrs:{type:"number",placeholder:"Precio de venta al público por unidad",min:0},domProps:{value:t.producto.precioVenta},on:{input:function(e){e.target.composing||t.$set(t.producto,"precioVenta",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.producto.cantidad,expression:"producto.cantidad",modifiers:{number:!0}}],staticClass:"form-control my-3",attrs:{type:"number",placeholder:"Cantidad de productos",min:0},domProps:{value:t.producto.cantidad},on:{input:function(e){e.target.composing||t.$set(t.producto,"cantidad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),o("b-card",{staticClass:"mt-3"},[o("h4",{staticClass:"mx-auto"},[t._v("Metodo de pago")]),o("b-form-select",{attrs:{options:t.metodoDePago},model:{value:t.selectedMethod,callback:function(e){t.selectedMethod=e},expression:"selectedMethod"}})],1),o("div",{staticClass:"d-flex"},[o("button",{staticClass:"btn btn-secondary ml-auto",on:{click:t.aggProduct}},[t._v("Agregar")])])],1),o("div",{staticClass:"container mt-3"},[o("b-card",[o("h3",[t._v("Gastos")]),o("b-card-group",t._l(t.gastosTimeFormated,(function(e,r){return o("div",{key:e+r},[o("b-card",{staticClass:"mb-2 ml-3 mr-3 mt-3",staticStyle:{"max-width":"20rem"},attrs:{header:e.monto+" Bs.","sub-title":e.metodoPago,tag:"article","img-top":"","bg-variant":"warning","text-variant":"white"}},[o("b-card-text",[o("ul",t._l(e.productos,(function(e,r){return o("div",{key:e.nombre+r},[o("li",[t._v(t._s(e.nombre)+" - "+t._s(e.marca)+" - "+t._s(e.cantidad))])])})),0)]),o("b-card-footer",[t._v(" "+t._s(e.createdAt)+" ")])],1)],1)})),0),o("b-card-footer",[o("b-table",{attrs:{responsive:"sm",striped:"",hover:"",items:t.totalGastos.gastosTable}})],1)],1)],1),t.productos.length?o("div",[o("b-card",{staticClass:"mt-3"},[o("h4",[t._v("Inventario")]),t._l(t.productosTimeFormated,(function(e,r){return o("div",{staticClass:"mt-3"},[o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",[o("b",[t._v(" Producto: ")]),t._v(" "+t._s(e.nombre)+" - "),o("b",[t._v("Precio de Venta:")]),t._v(" "+t._s(e.precioVenta)+" - Bs. "),o("b",[t._v("fecha: ")]),t._v(" "+t._s(e.createdAt)+" - "),o("b",[t._v(" Marca: ")]),t._v(" "+t._s(e.marca)+" - "),o("b",[t._v(" Unidades: ")]),t._v(" "+t._s(e.cantidad)+" ")]),o("div",[o("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(o){return t.abrirModal(e._id,r)}}},[t._v("Edit")]),o("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(o){return t.deleteProduct(e._id)}}},[t._v("x")])])])])])}))],2),o("b-card",{staticClass:"mt-3 mb-3"},[o("h3",[t._v("Lista de Precios ")]),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[o("b",[t._v("Nombre del producto")])]),o("b-col",[o("b",[t._v("Marca")])]),o("b-col",[o("b",[t._v("Precio Bs:")])]),o("b-col",[o("b",[t._v("Unidades")])])],1)],1),t._l(t.productos,(function(e,r){return o("div",{staticClass:"mt-3"},[o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v(t._s(e.nombre))]),o("b-col",[t._v(t._s(e.marca))]),o("b-col",[t._v(t._s(e.precioVenta))]),o("b-col",[t._v(t._s(e.cantidad))])],1)],1)],1)}))],2),o("b-modal",{attrs:{id:"modal-prevent-closing",title:"Ingresa nuevos datos del producto","header-bg-variant":"Black"},on:{ok:t.handleOk},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[o("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[o("b-form-group",{attrs:{label:"Nombre:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].nombre},model:{value:t.newProducto.nombre,callback:function(e){t.$set(t.newProducto,"nombre",e)},expression:"newProducto.nombre"}})],1),o("b-form-group",{attrs:{label:"Marca:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].marca},model:{value:t.newProducto.marca,callback:function(e){t.$set(t.newProducto,"marca",e)},expression:"newProducto.marca"}})],1),o("b-form-group",{attrs:{label:"Precio de compra:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].precioCompra},model:{value:t.newProducto.precioCompra,callback:function(e){t.$set(t.newProducto,"precioCompra",e)},expression:"newProducto.precioCompra"}})],1),o("b-form-group",{attrs:{label:"Precio de venta:"}},[o("b-form-input",{attrs:{placeholder:t.productos[t.indexProduct].precioVenta},model:{value:t.newProducto.precioVenta,callback:function(e){t.$set(t.newProducto,"precioVenta",e)},expression:"newProducto.precioVenta"}})],1)],1)])],1):t._e()],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[o("h2",{staticClass:"d-flex mx-auto text-dark"},[t._v("Gastos")])])}],s=(o("99af"),o("4160"),o("ac1f"),o("1276"),o("159b"),o("bc3a")),c=o.n(s),l={name:"Gastos",data:function(){return{moreProducts:!1,countProducts:"",selectedMethod:null,productos:[],gastos:[],producto:{nombre:"",marca:""},newProducto:{nombre:"",marca:""},idProduct:"",openModal:!1,indexProduct:0,metodoDePago:[{value:null,text:"Seleccione un metodo de pago"},{value:"Efectivo",text:"Efectivo"},{value:"Transferencia",text:"Transferencia"},{value:"Pago Movil",text:"Pago Movil"}]}},computed:{gastosTimeFormated:function(t){if(this.gastos){var e=this.gastos;return e.forEach((function(t){var e=t.createdAt.split("T"),o=e[0].split("-");t.createdAt="".concat(o[0],"-").concat(o[1],"-").concat(o[2])})),e}},productosTimeFormated:function(t){if(this.productos){var e=this.productos;return e.forEach((function(t){var e=t.createdAt.split("T"),o=e[0].split("-");t.createdAt="".concat(o[0],"-").concat(o[1],"-").concat(o[2])})),e}},totalGastos:function(t){if(this.gastos){var e=0,o=0,r=0,a=0;this.gastos.forEach((function(t){var n=parseInt(t.monto);"Efectivo"==t.metodoPago?o+=n:"Transferencia"==t.metodoPago?r+=n:"Pago Movil"==t.metodoPago&&(a+=n),e+=n}));var n={msj:"Gastos totales: ".concat(e,"\n              Compras realizadas: ").concat(this.gastos.length),gastosTable:[{gastos_totales:e+" Bs.",compras_realizadas:this.gastos.length,gastos_en_efectivo:o+" Bs.",gastos_en_transferencia:r+" Bs.",gastos_en_pago_movil:a+" Bs.",_rowVariant:"warning"}]};return n}}},methods:{abrirModal:function(t,e){this.indexProduct=e,this.idProduct=t,this.openModal=!0},handleSubmit:function(){var t=this;if(!this.newProducto.nombre||!this.newProducto.marca||!this.newProducto.precioCompra||!this.newProducto.precioVenta)return this.$vToastify.info("Llena todos los datos para continuar");this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})),this.updateProduct()},handleOk:function(t){t.preventDefault(),this.handleSubmit()},aggProduct:function(){var t=this,e=this,o=[],r="",a=[],n="http://localhost:4012/api/createproduct";if(!this.producto.nombre||!this.producto.marca||!this.producto.precioCompra||!this.producto.precioVenta||!this.selectedMethod||this.moreProducts&&0==this.countProducts)return e.$vToastify.info("Llena todos los datos para continuar");if(this.moreProducts&&this.countProducts){for(var i=0;i<this.countProducts;i++)o.push(this.producto);r=o,a=o,n="http://localhost:4012/api/createmanyproducts"}else r=this.producto,a.push(this.producto);c.a.post(n,r).then((function(o){200==o.status?(e.aggExpense(a,t.selectedMethod),e.$vToastify.success("Producto agregado satisfactoriamente"),e.producto={nombre:"",marca:""},e.countProducts=""):e.$vToastify.error("Ha ocurrido un error")})).catch((function(t){e.$vToastify.error(t)}))},aggExpense:function(t,e){var o=this,r={productos:t,metodoPago:e};c.a.post("http://localhost:4012/api/createexpense",r).then((function(t){200==t.status?(o.findExpenses(),o.$vToastify.success("Gasto agregado satisfactoriamente"),o.findProducts()):o.$vToastify.error("Ha ocurrido un error agregado gastos")})).catch((function(t){console.log(t),o.$vToastify.error(t)}))},findProducts:function(){var t=this;c.a.get("http://localhost:4012/api/findproducts").then((function(e){200==e.status?t.productos=e.data:t.$vToastify.error("Ha ocurrido un error obteniendo los productos")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},findExpenses:function(){var t=this;c.a.get("http://localhost:4012/api/findexpenses").then((function(e){200==e.status?t.gastos=e.data:t.$vToastify.error("Ha ocurrido un error obteniendo los gastos")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))},deleteProduct:function(t){var e=this;c.a.delete("http://localhost:4012/api/deleteproduct/".concat(t)).then((function(t){200==t.status?(e.$vToastify.success("Producto eliminado satisfactoriamente"),e.findProducts()):e.$vToastify.error("Ha ocurrido un error eliminado producto")})).catch((function(t){console.log(t),e.$vToastify.error(t)}))},updateProduct:function(){var t=this,e=this.idProduct;if(!this.newProducto.nombre||!this.newProducto.marca||!this.newProducto.precioCompra||!this.newProducto.precioVenta)return t.$vToastify.info("Llena todos los datos para continuar");c.a.put("http://localhost:4012/api/updateproduct/".concat(e),t.newProducto).then((function(e){200==e.status?(t.$vToastify.success("Producto actualizado satisfactoriamente"),t.findProducts(),t.newProducto={nombre:"",marca:""},t.idProduct=""):t.$vToastify.error("Ha ocurrido un error actualizado producto")})).catch((function(e){console.log(e),t.$vToastify.error(e)}))}},mounted:function(){this.findProducts(),this.findExpenses()}},u=l,d=o("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"GastosView",components:{Gastos:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},c37e:function(t,e,o){"use strict";var r=o("03cc"),a=o.n(r);a.a},d58f:function(t,e,o){var r=o("1c0b"),a=o("7b0b"),n=o("44ad"),i=o("50c4"),s=function(t){return function(e,o,s,c){r(o);var l=a(e),u=n(l),d=i(l.length),p=t?d-1:0,f=t?-1:1;if(s<2)while(1){if(p in u){c=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(c=o(c,u[p],p,l));return c}};t.exports={left:s(!1),right:s(!0)}},d784:function(t,e,o){"use strict";o("ac1f");var r=o("6eeb"),a=o("d039"),n=o("b622"),i=o("9263"),s=o("9112"),c=n("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=n("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var o="ab".split(t);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));t.exports=function(t,e,o,d){var v=n(t),m=!a((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),h=m&&!a((function(){var e=!1,o=/a/;return"split"===t&&(o={},o.constructor={},o.constructor[c]=function(){return o},o.flags="",o[v]=/./[v]),o.exec=function(){return e=!0,null},o[v](""),!e}));if(!m||!h||"replace"===t&&(!l||!u||p)||"split"===t&&!f){var b=/./[v],g=o(v,""[t],(function(t,e,o,r,a){return e.exec===i?m&&!a?{done:!0,value:b.call(e,o,r)}:{done:!0,value:t.call(o,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=g[0],y=g[1];r(String.prototype,t,_),r(RegExp.prototype,v,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&s(RegExp.prototype[v],"sham",!0)}},d81d:function(t,e,o){"use strict";var r=o("23e7"),a=o("b727").map,n=o("1dde"),i=o("ae40"),s=n("map"),c=i("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},dd7b:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Login")],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-background"},[o("div",{staticClass:"container",attrs:{id:"app"}},[o("div",{staticClass:"abs-center"},[o("b-card",{staticStyle:{"max-width":"20rem"},attrs:{title:"Iniciar sesión"}},[o("b-card-body",[o("form",[o("b-form-input",{staticClass:"mb-2",attrs:{type:"text",placeholder:"Usuario..."},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("b-form-input",{attrs:{type:"password",placeholder:"Contraseña..."},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("b-button",{attrs:{variant:"outline-primary",disabled:!t.username||!t.password},on:{click:t.enviarDatos}},[t._v(" Iniciar sesión ")]),o("router-link",{attrs:{to:"/registro"}},[o("a",[t._v("Registrarse")])])],1)])],1)],1)])])},i=[],s=o("bc3a"),c=o.n(s),l={name:"login",data:function(){return{username:"",password:""}},methods:{enviarDatos:function(){var t=this;if(!this.username.length||!this.password.length)return t.$vToastify.info("Llena todos los datos para continuar");c.a.post("http://localhost:4012/api/loginuser",{username:t.username,password:t.password}).then((function(e){200==e.status?(t.$vToastify.success("Logueado con exito"),t.$router.push("/agregar-cliente")):t.$vToastify.error("valida tus datos")})).catch((function(e){t.$vToastify.error(e)}))}},created:function(){}},u=l,d=(o("039a"),o("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null),f=p.exports,v={name:"InicioSesion",components:{Login:f}},m=v,h=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=h.exports},e8b5:function(t,e,o){var r=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f30e:function(t,e,o){"use strict";var r=o("0ea0"),a=o.n(r);a.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=about.ca0b9ff5.js.map